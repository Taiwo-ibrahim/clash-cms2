<template>
  <div class="relative nav-container">
    <nav>
      <div class="nav">
        <div class="left">
          <h6 class="welcome">Hi, {{ username }}</h6>
        </div>
        <div class="right">
          <button class="me-3">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="#374957"
              class="bi bi-bell-fill"
              viewBox="0 0 16 16"
            >
              <path
                d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2m.995-14.901a1 1 0 1 0-1.99 0A5 5 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901"
              />
            </svg>
          </button>
          <svg
            width="150"
            height="42"
            viewBox="0 0 150 42"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect
              x="0.75"
              y="0.75"
              width="148.5"
              height="40.5"
              rx="6.25"
              fill="#F7F7F7"
            />
            <rect
              x="0.75"
              y="0.75"
              width="148.5"
              height="40.5"
              rx="6.25"
              stroke="#CCCCCC"
              stroke-width="0.5"
            />
            <rect x="11" y="5" width="32" height="32" rx="16" fill="#260021" />
            <path
              d="M20.53 26.112C19.242 26.112 18.2293 25.7433 17.492 25.006C16.7547 24.2687 16.386 23.1907 16.386 21.772V16.2H17.786V21.716C17.786 22.808 18.024 23.606 18.5 24.11C18.9853 24.614 19.6667 24.866 20.544 24.866C21.4307 24.866 22.112 24.614 22.588 24.11C23.0733 23.606 23.316 22.808 23.316 21.716V16.2H24.674V21.772C24.674 23.1907 24.3053 24.2687 23.568 25.006C22.84 25.7433 21.8273 26.112 20.53 26.112ZM27.5442 26V16.2H28.6922L35.1742 24.25H34.5722V16.2H35.9722V26H34.8242L28.3422 17.95H28.9442V26H27.5442Z"
              fill="white"
            />
            <path
              d="M52.986 26L57.424 16.2H58.81L63.262 26H61.792L57.83 16.984H58.39L54.428 26H52.986ZM54.876 23.55L55.254 22.43H60.77L61.176 23.55H54.876ZM67.5255 26.084C66.8069 26.084 66.1629 25.9253 65.5935 25.608C65.0335 25.2907 64.5902 24.8473 64.2635 24.278C63.9369 23.7087 63.7735 23.046 63.7735 22.29C63.7735 21.534 63.9369 20.876 64.2635 20.316C64.5902 19.7467 65.0335 19.3033 65.5935 18.986C66.1629 18.6687 66.8069 18.51 67.5255 18.51C68.1509 18.51 68.7155 18.65 69.2195 18.93C69.7235 19.21 70.1249 19.63 70.4235 20.19C70.7315 20.75 70.8855 21.45 70.8855 22.29C70.8855 23.13 70.7362 23.83 70.4375 24.39C70.1482 24.95 69.7515 25.3747 69.2475 25.664C68.7435 25.944 68.1695 26.084 67.5255 26.084ZM67.6375 24.908C68.1042 24.908 68.5242 24.8007 68.8975 24.586C69.2802 24.3713 69.5789 24.068 69.7935 23.676C70.0175 23.2747 70.1295 22.8127 70.1295 22.29C70.1295 21.758 70.0175 21.3007 69.7935 20.918C69.5789 20.526 69.2802 20.2227 68.8975 20.008C68.5242 19.7933 68.1042 19.686 67.6375 19.686C67.1615 19.686 66.7369 19.7933 66.3635 20.008C65.9902 20.2227 65.6915 20.526 65.4675 20.918C65.2435 21.3007 65.1315 21.758 65.1315 22.29C65.1315 22.8127 65.2435 23.2747 65.4675 23.676C65.6915 24.068 65.9902 24.3713 66.3635 24.586C66.7369 24.8007 67.1615 24.908 67.6375 24.908ZM70.1715 26V23.998L70.2555 22.276L70.1155 20.554V15.612H71.4595V26H70.1715ZM83.2845 18.51C83.8818 18.51 84.4092 18.6267 84.8665 18.86C85.3238 19.0933 85.6785 19.448 85.9305 19.924C86.1918 20.4 86.3225 21.002 86.3225 21.73V26H84.9785V21.884C84.9785 21.1653 84.8105 20.624 84.4745 20.26C84.1385 19.896 83.6672 19.714 83.0605 19.714C82.6125 19.714 82.2205 19.8073 81.8845 19.994C81.5485 20.1807 81.2872 20.456 81.1005 20.82C80.9232 21.184 80.8345 21.6367 80.8345 22.178V26H79.4905V21.884C79.4905 21.1653 79.3225 20.624 78.9865 20.26C78.6598 19.896 78.1885 19.714 77.5725 19.714C77.1338 19.714 76.7465 19.8073 76.4105 19.994C76.0745 20.1807 75.8132 20.456 75.6265 20.82C75.4398 21.184 75.3465 21.6367 75.3465 22.178V26H74.0025V18.58H75.2905V20.554L75.0805 20.05C75.3138 19.5647 75.6732 19.1867 76.1585 18.916C76.6438 18.6453 77.2085 18.51 77.8525 18.51C78.5618 18.51 79.1732 18.6873 79.6865 19.042C80.1998 19.3873 80.5358 19.9147 80.6945 20.624L80.1485 20.4C80.3725 19.8307 80.7645 19.3733 81.3245 19.028C81.8845 18.6827 82.5378 18.51 83.2845 18.51ZM88.7955 26V18.58H90.1395V26H88.7955ZM89.4675 17.152C89.2062 17.152 88.9868 17.068 88.8095 16.9C88.6415 16.732 88.5575 16.5267 88.5575 16.284C88.5575 16.032 88.6415 15.822 88.8095 15.654C88.9868 15.486 89.2062 15.402 89.4675 15.402C89.7288 15.402 89.9435 15.486 90.1115 15.654C90.2888 15.8127 90.3775 16.0133 90.3775 16.256C90.3775 16.508 90.2935 16.7227 90.1255 16.9C89.9575 17.068 89.7382 17.152 89.4675 17.152ZM96.6676 18.51C97.2743 18.51 97.8063 18.6267 98.2636 18.86C98.7303 19.0933 99.0943 19.448 99.3556 19.924C99.617 20.4 99.7476 21.002 99.7476 21.73V26H98.4036V21.884C98.4036 21.1653 98.2263 20.624 97.8716 20.26C97.5263 19.896 97.0363 19.714 96.4016 19.714C95.9256 19.714 95.5103 19.8073 95.1556 19.994C94.801 20.1807 94.5256 20.456 94.3296 20.82C94.143 21.184 94.0496 21.6367 94.0496 22.178V26H92.7056V18.58H93.9936V20.582L93.7836 20.05C94.0263 19.5647 94.3996 19.1867 94.9036 18.916C95.4076 18.6453 95.9956 18.51 96.6676 18.51Z"
              fill="#011210"
            />
            <g clip-path="url(#clip0_1295_117)">
              <path
                d="M123 24L118.757 19.757L120.172 18.343L123 21.172L125.828 18.343L127.243 19.757L123 24Z"
                fill="#2D2929"
              />
            </g>
            <defs>
              <clipPath id="clip0_1295_117">
                <rect
                  width="24"
                  height="24"
                  fill="white"
                  transform="translate(111 9)"
                />
              </clipPath>
            </defs>
          </svg>
        </div>
      </div>
    </nav>
  </div>
</template>

<script>
definePageMeta({
  middleware: "auth",
});
export default {
  data() {
    return {
      username: "",
    };
  },
  mounted() {
    this.getUsernameFromToken();
  },
  methods: {
    getUsernameFromToken() {
      const token = sessionStorage.getItem("token");
      const username = sessionStorage.getItem("username");
      // Set the username from storage to the data property
      if (username) {
        this.username = username;
      } else {
        // Handle case when username is not in storage
        this.username = "Guest";
      }
    },
  },
};
</script>