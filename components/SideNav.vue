<template>
  <aside class="sidebar" :class="{ 'show': isOpen }" >
    <div>
      <NuxtLink
        to="/"
        class="page__tab"
        :class="isActive('index') ? 'active' : ''"
      >
        <div class="d-flex align-items-center">
          <svg
            class="me-3"
            width="14"
            height="14"
            viewBox="0 0 14 14"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_1176_3535)">
              <path
                d="M4.08333 0H2.33333C1.04467 0 0 1.04467 0 2.33333V4.08333C0 5.372 1.04467 6.41667 2.33333 6.41667H4.08333C5.372 6.41667 6.41667 5.372 6.41667 4.08333V2.33333C6.41667 1.04467 5.372 0 4.08333 0Z"
                fill="#B6B6B6"
              />
              <path
                d="M11.6666 0H9.91658C8.62792 0 7.58325 1.04467 7.58325 2.33333V4.08334C7.58325 5.372 8.62792 6.41667 9.91658 6.41667H11.6666C12.9552 6.41667 13.9999 5.372 13.9999 4.08334V2.33333C13.9999 1.04467 12.9552 0 11.6666 0Z"
                fill="#B6B6B6"
              />
              <path
                d="M4.08333 7.58325H2.33333C1.04467 7.58325 0 8.62792 0 9.91659V11.6666C0 12.9553 1.04467 13.9999 2.33333 13.9999H4.08333C5.372 13.9999 6.41667 12.9553 6.41667 11.6666V9.91659C6.41667 8.62792 5.372 7.58325 4.08333 7.58325Z"
                fill="#B6B6B6"
              />
              <path
                d="M11.6666 7.58325H9.91658C8.62792 7.58325 7.58325 8.62792 7.58325 9.91659V11.6666C7.58325 12.9553 8.62792 13.9999 9.91658 13.9999H11.6666C12.9552 13.9999 13.9999 12.9553 13.9999 11.6666V9.91659C13.9999 8.62792 12.9552 7.58325 11.6666 7.58325Z"
                fill="#B6B6B6"
              />
            </g>
            <defs>
              <clipPath id="clip0_1176_3535">
                <rect width="14" height="14" fill="white" />
              </clipPath>
            </defs>
          </svg>
          <h6>Dashboard</h6>
        </div>
      </NuxtLink>
      <NuxtLink
        to="/Products"
        class="page__tab"
        :class="
          (isActive('products') ? 'active' : '',
          isActive('products-AddProduct') ? 'active' : '',
          isActive('products-EditProduct') ? 'active' : '')
        "
      >
        <div class="d-flex align-items-center">
          <svg
            class="me-3"
            width="14"
            height="14"
            viewBox="0 0 14 14"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_1176_3538)">
              <path
                d="M14 5.25C14 4.78587 13.8156 4.34075 13.4874 4.01256C13.1592 3.68437 12.7141 3.5 12.25 3.5H10.5C10.5 2.57174 10.1313 1.6815 9.47487 1.02513C8.8185 0.368749 7.92826 0 7 0C6.07174 0 5.1815 0.368749 4.52513 1.02513C3.86875 1.6815 3.5 2.57174 3.5 3.5H1.75C1.28587 3.5 0.840752 3.68437 0.512563 4.01256C0.184374 4.34075 0 4.78587 0 5.25L0 11.0833C0.00092625 11.8566 0.308514 12.5979 0.855295 13.1447C1.40208 13.6915 2.1434 13.9991 2.91667 14H11.0833C11.8566 13.9991 12.5979 13.6915 13.1447 13.1447C13.6915 12.5979 13.9991 11.8566 14 11.0833V5.25ZM4.66667 3.5C4.66667 2.88116 4.9125 2.28767 5.35008 1.85008C5.78767 1.4125 6.38116 1.16667 7 1.16667C7.61884 1.16667 8.21233 1.4125 8.64992 1.85008C9.0875 2.28767 9.33333 2.88116 9.33333 3.5H4.66667Z"
                fill="#B6B6B6"
              />
            </g>
            <defs>
              <clipPath id="clip0_1176_3538">
                <rect width="14" height="14" fill="white" />
              </clipPath>
            </defs>
          </svg>
          <h6>Products</h6>
        </div>
      </NuxtLink>
      <NuxtLink
        to="/Categories"
        class="page__tab"
        :class="
          (isActive('categories') ? 'active' : '',
          isActive('categories-AddCategory') ? 'active' : '',
          isActive('categories-EditCategory') ? 'active' : '')
        "
      >
        <div class="d-flex align-items-center">
          <svg
            class="me-3"
            width="14"
            height="14"
            viewBox="0 0 14 14"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_1176_3538)">
              <path
                d="M14 5.25C14 4.78587 13.8156 4.34075 13.4874 4.01256C13.1592 3.68437 12.7141 3.5 12.25 3.5H10.5C10.5 2.57174 10.1313 1.6815 9.47487 1.02513C8.8185 0.368749 7.92826 0 7 0C6.07174 0 5.1815 0.368749 4.52513 1.02513C3.86875 1.6815 3.5 2.57174 3.5 3.5H1.75C1.28587 3.5 0.840752 3.68437 0.512563 4.01256C0.184374 4.34075 0 4.78587 0 5.25L0 11.0833C0.00092625 11.8566 0.308514 12.5979 0.855295 13.1447C1.40208 13.6915 2.1434 13.9991 2.91667 14H11.0833C11.8566 13.9991 12.5979 13.6915 13.1447 13.1447C13.6915 12.5979 13.9991 11.8566 14 11.0833V5.25ZM4.66667 3.5C4.66667 2.88116 4.9125 2.28767 5.35008 1.85008C5.78767 1.4125 6.38116 1.16667 7 1.16667C7.61884 1.16667 8.21233 1.4125 8.64992 1.85008C9.0875 2.28767 9.33333 2.88116 9.33333 3.5H4.66667Z"
                fill="#B6B6B6"
              />
            </g>
            <defs>
              <clipPath id="clip0_1176_3538">
                <rect width="14" height="14" fill="white" />
              </clipPath>
            </defs>
          </svg>
          <h6>Categories</h6>
        </div>
      </NuxtLink>
      <NuxtLink
        to="/"
        class="page__tab"
        :class="isActive('Orders') ? 'active' : ''"
      >
        <div class="d-flex align-items-center">
          <svg
            class="me-3"
            width="14"
            height="14"
            viewBox="0 0 14 14"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_1176_3541)">
              <path
                d="M13.2493 2.37825C13.0852 2.18134 12.8797 2.02297 12.6476 1.91439C12.4154 1.80581 12.1621 1.74969 11.9058 1.75H2.4745L2.45 1.54525C2.39986 1.11966 2.19531 0.72726 1.87512 0.442445C1.55493 0.15763 1.14137 0.00019938 0.712833 0L0.583333 0C0.428624 0 0.280251 0.0614582 0.170854 0.170854C0.0614582 0.280251 0 0.428624 0 0.583333C0 0.738043 0.0614582 0.886416 0.170854 0.995812C0.280251 1.10521 0.428624 1.16667 0.583333 1.16667H0.712833C0.855711 1.16669 0.993613 1.21914 1.10038 1.31408C1.20715 1.40903 1.27537 1.53985 1.29208 1.68175L2.09475 8.50675C2.17808 9.21654 2.51911 9.87104 3.05311 10.346C3.58711 10.821 4.27692 11.0833 4.99158 11.0833H11.0833C11.238 11.0833 11.3864 11.0219 11.4958 10.9125C11.6052 10.8031 11.6667 10.6547 11.6667 10.5C11.6667 10.3453 11.6052 10.1969 11.4958 10.0875C11.3864 9.97812 11.238 9.91667 11.0833 9.91667H4.99158C4.63053 9.91565 4.27863 9.80299 3.98413 9.59412C3.68962 9.38525 3.46693 9.0904 3.34658 8.75H10.2999C10.9838 8.75004 11.6459 8.5098 12.1706 8.07125C12.6953 7.63271 13.0492 7.02374 13.1705 6.35075L13.6284 3.81092C13.6741 3.55892 13.6639 3.29996 13.5983 3.05237C13.5328 2.80479 13.4136 2.57464 13.2493 2.37825Z"
                fill="#B6B6B6"
              />
              <path
                d="M4.08317 14.0003C4.7275 14.0003 5.24983 13.478 5.24983 12.8337C5.24983 12.1893 4.7275 11.667 4.08317 11.667C3.43884 11.667 2.9165 12.1893 2.9165 12.8337C2.9165 13.478 3.43884 14.0003 4.08317 14.0003Z"
                fill="#B6B6B6"
              />
              <path
                d="M9.91666 14.0003C10.561 14.0003 11.0833 13.478 11.0833 12.8337C11.0833 12.1893 10.561 11.667 9.91666 11.667C9.27233 11.667 8.75 12.1893 8.75 12.8337C8.75 13.478 9.27233 14.0003 9.91666 14.0003Z"
                fill="#B6B6B6"
              />
            </g>
            <defs>
              <clipPath id="clip0_1176_3541">
                <rect width="14" height="14" fill="white" />
              </clipPath>
            </defs>
          </svg>
          <h6>Orders</h6>
        </div>
      </NuxtLink>
      <NuxtLink
        to="/"
        class="page__tab"
        :class="isActive('Customers') ? 'active' : ''"
      >
        <div class="d-flex align-items-center">
          <svg
            class="me-3"
            width="14"
            height="14"
            viewBox="0 0 14 14"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M7 7C8.933 7 10.5 5.433 10.5 3.5C10.5 1.567 8.933 0 7 0C5.067 0 3.5 1.567 3.5 3.5C3.5 5.433 5.067 7 7 7Z"
              fill="#B6B6B6"
            />
            <path
              d="M7 8.16614C4.10184 8.16936 1.75323 10.518 1.75 13.4161C1.75 13.7383 2.01116 13.9995 2.33332 13.9995H11.6666C11.9888 13.9995 12.25 13.7383 12.25 13.4161C12.2468 10.518 9.89816 8.16934 7 8.16614Z"
              fill="#B6B6B6"
            />
          </svg>
          <h6>Customers</h6>
        </div>
      </NuxtLink>
      <NuxtLink
        to="/"
        class="page__tab"
        :class="isActive('Analytics') ? 'active' : ''"
      >
        <div class="d-flex align-items-center">
          <svg
            class="me-3"
            width="14"
            height="14"
            viewBox="0 0 14 14"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_1176_3550)">
              <path
                d="M10.916 7.00002H8.16676C7.52243 7.00002 7.00008 6.47767 7.00008 5.83334V3.07652C7.00169 2.53265 6.75032 2.01891 6.31991 1.68644C5.91205 1.36346 5.37726 1.24834 4.87266 1.37494C1.44293 2.22632 -0.647254 5.69687 0.204148 9.12662C0.803988 11.543 2.75108 13.3921 5.19526 13.8664C8.5342 14.5055 11.7921 12.4296 12.6234 9.13327C12.7505 8.62801 12.6356 8.0924 12.3125 7.68369C11.9762 7.25404 11.4616 7.00209 10.916 7.00002Z"
                fill="#B6B6B6"
              />
              <path
                d="M13.7964 4.34355C13.6633 3.84857 13.4649 3.37347 13.2067 2.93072C12.4298 1.59804 11.1609 0.623596 9.67284 0.217049C9.57482 0.190607 9.35549 0.175049 9.35549 0.175049C9.27712 0.175076 8.93959 0.175049 8.67242 0.391475C8.27973 0.700486 8.21799 1.0518 8.21216 1.07922C8.19179 1.16525 8.18121 1.25332 8.18066 1.34172V4.0834C8.18066 5.04989 8.96417 5.8334 9.93067 5.8334H12.6834C13.0486 5.83444 13.3924 5.66105 13.6086 5.36672C13.7685 5.15112 13.8508 4.88774 13.8419 4.61947C13.8373 4.52607 13.822 4.43348 13.7964 4.34355Z"
                fill="#B6B6B6"
              />
            </g>
            <defs>
              <clipPath id="clip0_1176_3550">
                <rect width="14" height="14" fill="white" />
              </clipPath>
            </defs>
          </svg>
          <h6>Analytics</h6>
        </div>
      </NuxtLink>
    </div>
    <div class="bottom__nav">
      <div class="page__tab">
        <div class="d-flex align-items-center">
          <svg
            class="me-2"
            width="12"
            height="12"
            viewBox="0 0 12 12"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_1176_3556)">
              <path
                d="M0.80341 9C1.21699 9.7178 2.13417 9.96441 2.85196 9.55083C2.85246 9.55055 2.85293 9.55027 2.85342 9.54998L3.07591 9.42148C3.49591 9.78082 3.97868 10.0595 4.4999 10.2435V10.5C4.4999 11.3284 5.17148 12 5.9999 12C6.82832 12 7.4999 11.3284 7.4999 10.5V10.2435C8.0212 10.0592 8.50399 9.78021 8.92389 9.42049L9.1474 9.54949C9.86536 9.9637 10.7832 9.71747 11.1974 8.99948C11.6116 8.28152 11.3654 7.36369 10.6474 6.94948L10.4254 6.82148C10.5253 6.27771 10.5253 5.72027 10.4254 5.17648L10.6474 5.04848C11.3654 4.63427 11.6116 3.71646 11.1974 2.99848C10.7832 2.28052 9.86538 2.03426 9.1474 2.44847L8.9249 2.57698C8.50448 2.21808 8.02139 1.93992 7.4999 1.7565V1.5C7.4999 0.671578 6.82832 0 5.9999 0C5.17148 0 4.4999 0.671578 4.4999 1.5V1.7565C3.97861 1.94079 3.49582 2.21979 3.07591 2.57951L2.85241 2.45002C2.13443 2.03578 1.21661 2.28204 0.802402 3C0.388192 3.71796 0.634426 4.6358 1.35241 5.05001L1.57441 5.178C1.47447 5.72177 1.47447 6.27921 1.57441 6.82301L1.35241 6.951C0.636418 7.36631 0.390981 8.28234 0.80341 9ZM5.9999 4.00001C7.10447 4.00001 7.9999 4.89544 7.9999 6C7.9999 7.10456 7.10447 7.99999 5.9999 7.99999C4.89534 7.99999 3.99991 7.10456 3.99991 6C3.99991 4.89544 4.89534 4.00001 5.9999 4.00001Z"
                fill="#B6B6B6"
              />
            </g>
            <defs>
              <clipPath id="clip0_1176_3556">
                <rect width="12" height="12" fill="white" />
              </clipPath>
            </defs>
          </svg>
          <h6>Settings</h6>
        </div>
      </div>
      <div class="page__tab" @click="signOut">
        <div class="d-flex align-items-center">
          <svg
            class="me-2"
            width="12"
            height="12"
            viewBox="0 0 12 12"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_1176_3562)">
              <path
                d="M11.4153 4.58559L9.47585 2.64609C9.27721 2.45425 8.96069 2.45976 8.76885 2.65839C8.58171 2.85215 8.58171 3.15934 8.76885 3.3531L10.7084 5.2926C10.766 5.35136 10.8163 5.41684 10.8584 5.4876C10.8509 5.4876 10.8449 5.48359 10.8374 5.48359L2.99535 5.4996C2.71921 5.4996 2.49536 5.72345 2.49536 5.99959C2.49536 6.27574 2.71921 6.49959 2.99535 6.49959L10.8344 6.48358C10.8483 6.48358 10.8599 6.47657 10.8734 6.47559C10.829 6.56017 10.7728 6.63796 10.7064 6.70659L8.76686 8.64609C8.56823 8.83792 8.56272 9.15445 8.75456 9.35308C8.94639 9.55171 9.26292 9.55722 9.46155 9.36538C9.46572 9.36135 9.46982 9.35725 9.47385 9.35308L11.4134 7.41358C12.1941 6.63257 12.1941 5.36657 11.4134 4.58559H11.4153Z"
                fill="#F6FFFE"
              />
              <path
                d="M3.50097 11H2.50096C1.67254 11 1.00096 10.3284 1.00096 9.49999V2.50001C1.00096 1.67159 1.67254 1.00001 2.50096 1.00001H3.50097C3.77711 1.00001 4.00096 0.776156 4.00096 0.500016C4.00096 0.223875 3.77713 0 3.50097 0H2.50096C1.12096 0.00166406 0.00264062 1.11998 0.000976562 2.50001V9.50002C0.00264062 10.88 1.12096 11.9984 2.50098 12H3.50099C3.77713 12 4.00098 11.7761 4.00098 11.5C4.00098 11.2239 3.77713 11 3.50097 11Z"
                fill="#F6FFFE"
              />
            </g>
            <defs>
              <clipPath id="clip0_1176_3562">
                <rect width="12" height="12" fill="white" />
              </clipPath>
            </defs>
          </svg>
          <h6>Sign Out</h6>
        </div>
      </div>
    </div>
  </aside>
</template>


<script setup>
// const sidenav = useSidenav()

// import { useSidenav } from '~/composables/useSidenav'

// const { isShown } = useSidenav()

// const isOpen = ref(false);

definePageMeta({
  middleware: "auth",
});
const route = useRoute();
const router = useRouter();

const isActive = (currentRoute) => {
  return route.name === currentRoute;
};
const signOut = () => {
  // Clear the authentication token
  sessionStorage.removeItem("token");
  sessionStorage.removeItem("username");

  // Redirect to the authentication page
  router.push("/auth");
};
</script>


<style scoped lang="scss">
.sidenav {
  transform: translateX(-100%);
  transition: transform 0.3s ease;
  /* your other styles */
}
.sidenav--visible {
  transform: translateX(0);
}
</style>
